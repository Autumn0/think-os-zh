# 第二章 进程

> 作者：[Allen B. Downey](http://greenteapress.com/wp/)

> 原文：[Chapter 2  Processes](http://greenteapress.com/thinkos/html/thinkos003.html)

> 译者：[飞龙](https://github.com/)

> 协议：[CC BY-NC-SA 4.0](http://creativecommons.org/licenses/by-nc-sa/4.0/)

## 2.1 抽象和虚拟化

在我们谈论进程之前，我打算先定义几个东西：

+   抽象（Abstraction）：抽象是复杂事物的简单表示。例如，如果你开车的话，应该知道车轮向左转的时候车也会向左行驶，反之亦然。当然，方向盘由一系列机械和传动系统所连接，用于使轮子转向，并且轮子和路面的相互作用方式也很复杂。但是作为一个司机，你通常不需要考虑这些细节。你可以仅仅建立方向盘的心智模型，这种心智模型就是一个抽象。

    软件工程的很大一部分就是设计类似这样的抽象，允许用户和其它程序员使用强大而复杂的系统，而不必知道其实现的细节。
    
+   虚拟化（Virtualization）：一类非常重要的抽象就是虚拟化，它是创建可取的幻像的过程。例如，许多公共图书馆都参与了馆际合作，允许它们互相借阅图书。当我需要一本书时，有时它在我的本地图书馆的架子上，但更多情况下它会被运到其它的馆藏中。无论是哪一种，我都会收到它可借阅的提醒。我并不需要知道它来自哪里，我也不需要知道我的图书馆拥有哪一本书。一般来说，这个系统创建了一个幻象，好像我的图书馆拥有全世界的每一本书。

    在物理上，我的图书馆的馆藏可能很小，但是虚拟上我能获得的馆藏包含了馆际合作的每一本书。
    
    另外一个例子，大多数电脑都只连接到一个网络中，而这个网络又链接到其它网络，等等。我们所谈论的“互联网”，是一系列网络和协议的合集，它将数据包从一个网络传送到另一个网络。从用户和程序员的角度来看，整个系统的行为就像是互联网的每台计算机都互相连接。物理连接的数量十分少，但是虚拟连接的数量十分庞大。

“虚拟”这个词通常用于虚拟机的语境中，它是一种软件，可以创建运行特定系统的专用计算机的幻象。实际上，虚拟机可能和其它虚拟机一起运行在不同的操作系统上。

在虚拟化的语境中，我们通常把真实发生的事情叫做“物理的”，而把虚拟上发生的事情叫做“逻辑的”或者“抽象的”。

## 2.2 隔离

工程最重要的原则之一就是隔离（Isolation）：当你设计一个带有多个组件的系统时，将它彼此隔离是个很好的方法，这样某个组件中的改变就不会对其它组件造成不良影响。

操作系统最重要的目标之一，就是将每个进程和其它进程隔离，使程序员不必考虑每个可能的交互情况。提供这种隔离的软件对象叫做进程（Process）。

进程是表示运行中程序的软件对象。我按照面向对象编程把它称之为“软件对象”。工程一个对象包含数据，并且提供用于操作数据的方法。进程正是包含以下数据的对象：

+ 程序文本，通常是机器语言的指令序列。
+ 程序相关的数据，包括静态数据（编译时分配）和动态数据，后者包括运行时的栈和堆。
+ 